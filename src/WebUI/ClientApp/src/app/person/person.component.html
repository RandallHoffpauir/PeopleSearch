<h1>People Search</h1>
<input type="text" [(ngModel)]="searchValue" (keyup.enter)="search()" placeholder="search value" />

<button class="btn btn-primary" (click)="search()">Search</button>

<button class="btn btn-primary" (click)="showNewPersonModal(newPersonModalTemplate)">Add Person...</button>

<br />

<form enctype="multipart/form-data">
  <img [src]="url" height="200" />
  <br />
  <input type="file" id="photo" accept=".jpg" (change)="onSelectFile($event)" name="photo" />
  <input type="submit" class="btn btn-primary" (click)="savePersonImage()">/>
</form>

<div *ngIf="vm" class="container wrap">
  <ul id="persons" class="no-bullets">
    <li *ngFor="let person of vm.persons; index as i">

      <div class="row">

        <div class="col-xs-12 col-sm-6 col-md-6 col-md-offset-3">
          <div class="well well-sm">
            <div class="row">
              <div class="col-sm-2 col-md-4 col-lg-5">
                <img id="{{ 'photo' + person.id}}" src="" alt="" class="img-rounded img-responsive" height="200" />
              </div>
              <div class="col-sm-10 col-md-8 col-lg-7">
                <h4>{{person.firstName}} {{person.lastName}} ({{ calculateAge(person.birthDate) }})</h4>
                <small><span >{{person.address}}<i class="glyphicon glyphicon-map-marker"></i></span></small><br/>
                <small><span>{{person.city}} {{person.state}} {{person.zip}}<i class="glyphicon glyphicon-map-marker"></i></span></small>
                <p>
                  <i class="glyphicon glyphicon-envelope"></i>lorem@random.net
                  <br />
                  <i class="glyphicon glyphicon-globe"></i><a href="https://www.prepbootstrap.com">www.prepbootstrap.com</a>
                  <br />
                  <i class="glyphicon glyphicon-gift"></i>January 19, 1993
                </p>
                <div class="btn-group">
                  <a href="#" class="btn btn-primary"><span class="fa fa-2x fa-facebook"></span></a>
                  <a href="#" class="btn btn-danger"><span class="fa fa-2x fa-google"></span></a>
                  <a href="#" class="btn btn-info"><span class="fa fa-2x fa-twitter"></span></a>
                  <a href="#" class="btn btn-primary"><span class="fa fa-2x fa-linkedin"></span></a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--<div class="input-group">
          <div class="input-group-prepend">
            <span class="input-group-text">First and Last Name</span>
          </div>
          <input type="text" aria-label="First name" class="form-control" [(ngModel)]="person.firstName" />
          <input type="text" aria-label="First name" class="form-control" [(ngModel)]="person.lastName" />
          <input type="text" aria-label="First name" class="form-control" [(ngModel)]="person.birthDate" />
          <ul>
            <li *ngFor="let inter of person.interests; index as j">
              {{inter.interest}}
            </li>
          </ul>
          <img id="{{ 'photo' + person.id}}" src="" height="200" />
        </div>
        <button id="savePerson" (click)="updatePerson(person)">Save</button>
        <div class="col-sm-4">{{person.firstName}} {{person.lastName}} age: {{ calculateAge(person.birthDate) }}</div>-->

      </div>

    </li>
  </ul>
  <div class="row">
  </div>
</div>

<div *ngIf="debug">
  <pre>{{ vm | json }}</pre>
</div>


<!--<ng-template #newPersonModalTemplate>
  <div class="modal-header clearfix">
    <h4 class="modal-title float-left">New List</h4>
    <button type="button" class="close float-right" aria-label="Close" (click)="newPersonCancelled()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" class="form-control" id="firstName" placeholder="First Name..." [(ngModel)]="newPersonEditor.firstName" />
      <div *ngIf="newPersonEditor.error" class="invalid-feedback">
        {{ newPersonEditor.error }}
      </div>
    </div>
    <div *ngIf="debug">
      <pre>{{ newPersonEditor | json }}</pre>
    </div>
  </div>
  <div class="modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="newPersonCancelled()">Cancel</button>
      <button class="btn btn-primary" (click)="addPerson()">Create</button>
    </div>
  </div>
</ng-template>-->

<ng-template #newPersonModalTemplate>
  <div class="modal-header clearfix">
    <h4 class="modal-title float-left">New List</h4>
    <button type="button" class="close float-right" aria-label="Close" (click)="newPersonCancelled()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" class="form-control" id="firstName" placeholder="First Name..." [(ngModel)]="newPersonEditor.firstName"
             [ngClass]="{ 'is-invalid': newPersonEditor.error }" />
      <div *ngIf="newPersonEditor.error" class="invalid-feedback">
        {{ newPersonEditor.error }}
      </div>
      <label for="lastName">Last Name:</label>
      <input type="text" class="form-control" id="lastName" placeholder="Last Name..." [(ngModel)]="newPersonEditor.lastName"
             [ngClass]="{ 'is-invalid': newPersonEditor.error }" />
      <div *ngIf="newPersonEditor.error" class="invalid-feedback">
        {{ newPersonEditor.error }}
      </div>
      <label for="address">Address:</label>
      <input type="text" class="form-control" id="address" placeholder="Address..." [(ngModel)]="newPersonEditor.address"
             [ngClass]="{ 'is-invalid': newPersonEditor.error }" />
      <div *ngIf="newPersonEditor.error" class="invalid-feedback">
        {{ newPersonEditor.error }}
      </div>


    </div>
    <div *ngIf="debug">
      <pre>{{ newPersonEditor | json }}</pre>
    </div>
  </div>
  <div class="modal-footer">
    <div class="text-right">
      <button class="btn btn-default" (click)="newPersonCancelled()">Cancel</button>
      <button class="btn btn-primary" (click)="addPerson()">Create</button>
    </div>
  </div>
</ng-template>

<style>
  .well {
    border: 1px solid blue;
  }

  ul.no-bullets {
    list-style-type: none; /* Remove bullets */
    padding: 0; /* Remove padding */
    margin: 0; /* Remove margins */
  }}
</style>
